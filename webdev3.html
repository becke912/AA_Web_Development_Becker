<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Leaflet Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
     <style>
        body {     padding: 0;    margin: 0; }
        html, body, #map {     height: 100%;    width: 100%;      }
    </style>
    <script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js'></script>
</head>
<body>
    <header id="header">
        <h2>A Leaflet map </h2>
        <h3><a href="https://leafletjs.com" target="_blank">I built this with leaflet</a></h3>
        <h5 class="right">GIS4533 | Fall 2020 | Mathew Becker</h5>
    </header>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <div id="map" style="position: relative;"></div>
    <script>
    // Create variable to hold map element, give initial settings to map
    var map = L.map('map',{ center: [46.7867, -92.1005], zoom: 11});
       
    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', { attribution: 'Â© OpenStreetMap' }).addTo(map);
     //Where I add my airport csv using omnivore
        omnivore.csv('/airports.csv').addTo(map);
        
        var myDataPoint1 = L.marker([46.779497, -92.093210]).addTo(map);
        // Create line feature for Aerial lift bridge, style and add to map
        myDataPoint1.bindPopup("This is the Duluth Aerial Lift Bridge.");
        // Bind popup to data point object
        
        var myDataPoint2 = L.marker([46.816914, -92.085174]).addTo(map);
        // Create line feature for UMD, style and add to map
        myDataPoint2.bindPopup("This is the University of Minnesota Duluth.");
        // Bind popup to data point object
      
          var myDataPoint3 = L.marker([46.717855, -92.217010]).addTo(map);
        // Create line feature for Spirit Mountain, style and add to map
        myDataPoint3.bindPopup("This is Spirit Mountain. A ski and snowboard destination.");
        // Bind popup to data point object
        
        // Create an Empty Popup
        var popup = L.popup();

        // Write function to set Properties of the Popup
        function onMapClick(e) {
            popup
        .setLatLng(e.latlng)
        .setContent("You clicked the map at " + e.latlng.toString())
        .openOn(map); }
        // Listen for a click event on the Map element
        map.on('click', onMapClick);
        
      //add lat and long for mouse coordinate on when clicking on a location.
        var lat, lng;

map.addEventListener('mousemove', function(ev) {
   lat = ev.latlng.lat;
   lng = ev.latlng.lng;
});

document.getElementById("transitmap").addEventListener("contextmenu", function (event) {
    // Prevent the browser's context menu from appearing
    event.preventDefault();

    // Add marker
    // L.marker([lat, lng], ....).addTo(map);
    alert(lat + ' - ' + lng);

    return false; // To disable default popup.
});
    </script>
      
</body>
</html>